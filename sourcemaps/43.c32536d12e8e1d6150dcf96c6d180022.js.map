{"version":3,"file":"js/43.1668757871990.1268c6eebe72ee1bb9e7.js","mappings":"kSAUMA,EAAAA,SAAAA,I,siBACJ,WAAoB,WACVC,EAAYC,KAAKC,MAAjBF,QACRG,SAASC,OAAOC,OAChBF,SAASC,OAAOE,KAAKC,UAAUC,MAAK,SAACC,GAAD,OAClC,EAAKC,SAAS,CACZC,WAAW,EACXC,QAASH,EAAKI,SAASJ,KAAKK,kBAGhCX,SAASC,OAAOW,YAAY,gBAC5Bd,KAAKe,WAAab,SAASC,OAAOa,GAAG,kBAAkB,SAACC,GAClDA,EAAMC,UACRnB,EAAQoB,KAAR,WAEIC,SAASC,SAASC,SAAS,gBAAkB,gBAAkB,IAFnE,OAGKL,EAAMM,a,oBAMjB,WACE,OACE,kBAAC,aAAD,KACE,kBAAC,KAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQC,WAAYxB,KAAKC,c,EA3B7BH,CAAY2B,EAAAA,WAkClB3B,EAAI4B,UAAY,CACd3B,QAAS4B,IAAAA,QAGX,SAAeC,EAAAA,EAAAA,aAAWC,EAAAA,EAAAA,KAAAA,CAAU/B,K,4JCxC9BgC,EAAW,kBACf,kBAAC,KAAD,CAAUC,MAAOC,EAAAA,GAAAA,YACf,kBAAC,EAAAC,cAAD,CAAeC,UAAUC,EAAAA,EAAAA,IAAYC,OAAOhB,SAASC,SAAU,IAC7D,kBAAC,IAAD,SAKNS,EAASJ,UAAY,CACnBW,OAAQV,IAAAA,MAGV,W,oICbMW,EAAc,CAClB,IAAKC,EAAAA,GAGDC,EAAgB,CACpB,kBAAmB,4BAGfC,EAAqB,SAAC,GAAiB,IAAfC,EAAe,EAAfA,SACtBC,GAAYC,EAAAA,EAAAA,KAAY,qBAAGC,aAAgBF,aACzCtB,GAAayB,EAAAA,EAAAA,eAAbzB,SACF0B,GAAWC,EAAAA,EAAAA,MAQjB,IANAC,EAAAA,EAAAA,YAAU,WACJN,GACFI,EAAS,CAAEG,KAAMC,EAAAA,EAAWC,aAASC,MAEtC,CAAChC,IAEAsB,EAAW,CACb,IAAMW,EAAQhB,EAAYK,GACpBY,EACJf,EACEgB,OAAOC,KAAKjB,GAAekB,MAAK,SAACC,GAAD,OAAStC,EAASC,SAASqC,QACxD,WACP,OAAO,kBAACL,EAAD,CAAOM,YAAaL,IAG7B,OAAOb,GAGTD,EAAmBf,UAAY,CAC7BgB,SAAUf,IAAAA,KAAAA,YAGZ,W,+ECvCMkC,GAAeC,EAAAA,EAAAA,OAAK,kBACxB,0DASWC,EAAS,WACpB,OACE,kBAAC,EAAAC,OAAD,KACE,kBAAC,EAAAC,MAAD,CAAOC,OAAK,EAACC,KANH,oBAM6BC,UAAWP,IAClD,kBAAC,EAAAI,MAAD,CAAOI,OAAQ,kBAAM,kBAAC,EAAAC,SAAD,CAAUC,GAAG,gC,oGCZlCC,E,MAAeC,EAAAA,CACnB,CAAC,aAAc,cAAe,eAC9B,SAACC,GAAD,MAAO,CAACA,EAAD,UAAOA,EAAP,sBAAuBA,EAAvB,wBAAyCA,EAAzC,iBAGIC,EAAeC,GAAAA,CAAM,GAAD,OAPjB,IAOiB,OAAiBJ,KAAe,SAACK,GAAD,OAAOA,KAE3D1B,EAAY,a,qICNzB,SAAe,UACZA,EAAAA,GALmB,SAAC2B,EAAD,SAAqB,CACzCnC,UADoB,EAAMS,Y,wBCMtBpB,EAAW,IAAI+C,EAAAA,GAAgB,GAApB,CACfC,KACAC,EAAAA,EAAAA,OAFe,eAGX7C,OAAOlC,SAASC,OAAO+E,OAAS,GAAK,CAAC7C,QASrC,SAAS8C,IACd,OAAOnD,EAASmD,SAAT,MAAAnD,EAAQ,WAPjBA,EAASmD,SAAS,CAAEtC,cAAcuC,EAAAA,EAAAA,IAAiBvC,KAUnD,W","sources":["webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/PresentationalComponents/shared/ErrorReducerCatcher.js","webpack:///./src/Routes.js","webpack:///./src/constants.js","webpack:///./src/store/errorReducer.js","webpack:///./src/store/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Routes } from './Routes';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport ErroReducerCatcher from './PresentationalComponents/shared/ErrorReducerCatcher';\n\nimport './App.scss';\n\nclass App extends Component {\n  componentDidMount() {\n    const { history } = this.props;\n    insights.chrome.init();\n    insights.chrome.auth.getUser().then((user) =>\n      this.setState({\n        userReady: true,\n        isAdmin: user.identity.user.is_org_admin,\n      })\n    );\n    insights.chrome.identifyApp('applications');\n    this.unregister = insights.chrome.on('APP_NAVIGATION', (event) => {\n      if (event.domEvent) {\n        history.push(\n          `/${\n            location.pathname.includes('applications') ? 'applications/' : ''\n          }${event.navId}`\n        );\n      }\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <NotificationsPortal />\n        <ErroReducerCatcher>\n          <Routes childProps={this.props} />\n        </ErroReducerCatcher>\n      </React.Fragment>\n    );\n  }\n}\n\nApp.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default withRouter(connect()(App));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport registry from './store';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\n\nconst Settings = () => (\n  <Provider store={registry.getStore()}>\n    <BrowserRouter basename={getBaseName(window.location.pathname, 1)}>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nSettings.propTypes = {\n  logger: PropTypes.func,\n};\n\nexport default Settings;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NotAuthorized from '@redhat-cloud-services/frontend-components/NotAuthorized';\nimport { useLocation } from 'react-router-dom';\nimport { API_ERROR } from '../../constants';\n\nconst errorStates = {\n  403: NotAuthorized,\n};\n\nconst sectionTitles = {\n  'cost-management': 'Cost Management settings',\n};\n\nconst ErroReducerCatcher = ({ children }) => {\n  const errorCode = useSelector(({ errorReducer: { errorCode } }) => errorCode);\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (errorCode) {\n      dispatch({ type: API_ERROR, payload: undefined });\n    }\n  }, [pathname]);\n\n  if (errorCode) {\n    const State = errorStates[errorCode];\n    const name =\n      sectionTitles[\n        Object.keys(sectionTitles).find((key) => pathname.includes(key))\n      ] || 'Settings';\n    return <State serviceName={name} />;\n  }\n\n  return children;\n};\n\nErroReducerCatcher.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ErroReducerCatcher;\n","import { Redirect, Route, Switch } from 'react-router-dom';\nimport React, { lazy } from 'react';\n\nconst Applications = lazy(() =>\n  import(\n    /* webpackChunkName: \"ApplicationsPage\" */ './SmartComponents/Applications/Applications'\n  )\n);\n\nconst paths = {\n  applications: '/applications/:id',\n};\n\nexport const Routes = () => {\n  return (\n    <Switch>\n      <Route exact path={paths.applications} component={Applications} />\n      <Route render={() => <Redirect to=\"/applications/advisor\" />} />\n    </Switch>\n  );\n};\n","import keyBy from 'lodash/keyBy';\nimport flatMap from 'lodash/flatMap';\n\nconst actions = [];\n\nconst asyncActions = flatMap(\n  ['GET_SCHEMA', 'SAVE_VALUES', 'GET_CONFIG'],\n  (a) => [a, `${a}_PENDING`, `${a}_FULFILLED`, `${a}_REJECTED`]\n);\n\nexport const ACTION_TYPES = keyBy([...actions, ...asyncActions], (k) => k);\n\nexport const API_ERROR = 'API_ERROR';\n","import { API_ERROR } from '../constants';\n\nconst setErrorState = (_, { payload }) => ({\n  errorCode: payload,\n});\n\nexport default {\n  [API_ERROR]: setErrorState,\n};\n","import ReducerRegistry, {\n  applyReducerHash,\n} from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport errorReducer from './errorReducer';\nimport logger from 'redux-logger';\n\nconst registry = new ReducerRegistry({}, [\n  promiseMiddleware,\n  notificationsMiddleware(),\n  ...(window.insights.chrome.isProd ? [] : [logger]),\n]);\n\nregistry.register({ errorReducer: applyReducerHash(errorReducer) });\n\nexport function getStore() {\n  return registry.getStore();\n}\n\nexport function register(...args) {\n  return registry.register(...args);\n}\n\nexport default registry;\n"],"names":["App","history","this","props","insights","chrome","init","auth","getUser","then","user","setState","userReady","isAdmin","identity","is_org_admin","identifyApp","unregister","on","event","domEvent","push","location","pathname","includes","navId","childProps","Component","propTypes","PropTypes","withRouter","connect","Settings","store","registry","BrowserRouter","basename","getBaseName","window","logger","errorStates","NotAuthorized","sectionTitles","ErroReducerCatcher","children","errorCode","useSelector","errorReducer","useLocation","dispatch","useDispatch","useEffect","type","API_ERROR","payload","undefined","State","name","Object","keys","find","key","serviceName","Applications","lazy","Routes","Switch","Route","exact","path","component","render","Redirect","to","asyncActions","flatMap","a","ACTION_TYPES","keyBy","k","_","ReducerRegistry","promiseMiddleware","notificationsMiddleware","isProd","register","applyReducerHash"],"sourceRoot":""}